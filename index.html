<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wild Lands a Deckbuilding Game by Charles Falk</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Merriweather:ital,wght@0,400;0,700;1,400&family=Alex+Brush&family=Rye&family=Special+Elite&family=Great+Vibes&family=Cedarville+Cursive&family=Dancing+Script&family=Parisienne&display=swap" rel="stylesheet">
    <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.getRegistrations().then(function(registrations) {
                for(let registration of registrations) {
                    registration.unregister();
                    console.log('Old service worker unregistered successfully.');
                }
            }).catch(function(err) {
                console.log('Service worker unregistration failed: ', err);
            });
        }
    </script>
    <style>
        :root {
            --paper-bg: #f4f1ea;
            --ink-main: #3a3a3a;
            --ink-secondary: #5c5c5c;
            --border-color: #b0a69a;
            
            /* -- Base Colors for Western Theme -- */
            --blood-red: #c81919;
            --blood-red: color(display-p3 0.75 0.1 0.1);
            --blood-red-rgb: 200, 25, 25;
            --blood-red-bright: color-mix(in srgb, var(--blood-red) 80%, white 20%);

            --faded-green: #556b2f;
            --faded-green: color(display-p3 0.37 0.42 0.22);
            --faded-green-rgb: 85, 107, 47;
            
            --heal-green: #16a34a; /* Tailwind Green-600 */
            --heal-green: color(display-p3 0.1 0.64 0.3);
            --heal-green-rgb: 22, 163, 74;
            --heal-green-dark: color-mix(in srgb, var(--heal-green) 80%, black 20%);
            --heal-green-bright: color-mix(in srgb, var(--heal-green) 80%, white 20%);

            --faded-blue: #4a6b8a;
            --faded-blue-rgb: 74, 107, 138;

            --tarnished-gold: #c8a415;
            --tarnished-gold-rgb: 200, 164, 21;
            
            --scarlet-fever-color: #C71585; 
            --puke-yellow: var(--faded-green);

            /* --- THEME VARIABLES (Default: Western) --- */
            
            /* Panels */
            --panel-bg: rgba(244, 241, 234, 0.9);
            --panel-border: 1px solid var(--border-color);
            --panel-border-cyber: none;

            /* Card Base BG */
            --card-bg: var(--paper-bg);

            /* Selected Card Glows -- HDR Update */
            --glow-color-default: rgba(40, 38, 35, 0.9);
            --glow-shadow-default: 0 0 12px rgba(40, 38, 35, 0.75);
            
            --glow-color-event: rgba(40, 38, 35, 0.9);
            --glow-shadow-event: 0 0 12px rgba(40, 38, 35, 0.75);

            /* Threat */
            --glow-color-threat: rgba(80, 40, 40, 0.9);
            --glow-shadow-threat: 0 0 25px rgba(80, 40, 40, 0.75);

            /* Provision - Heal */
            --glow-color-provision-heal: rgba(40, 60, 40, 0.9);
            --glow-shadow-provision-heal: 0 0 18px rgba(40, 60, 40, 0.75);

            /* Provision - Draw */
            --glow-color-provision-draw: rgba(40, 50, 60, 0.9);
            --glow-shadow-provision-draw: 0 0 18px rgba(40, 50, 60, 0.75);

            --glow-color-provision-neutral: rgba(50, 50, 50, 0.9);
            --glow-shadow-provision-neutral: 0 0 15px rgba(50, 50, 50, 0.7);

            /* Item - Weapon */
            --glow-color-item-weapon: rgba(80, 50, 40, 0.9);
            --glow-shadow-item-weapon: 0 0 18px rgba(80, 50, 40, 0.75);

            /* Player Upgrade */
            --glow-color-player-upgrade: rgba(75, 55, 40, 0.9);
            --glow-shadow-player-upgrade: 0 0 18px rgba(75, 55, 40, 0.75);

            /* Others */
            --glow-color-item-gold: var(--tarnished-gold);
            --glow-shadow-item-gold: 0 0 20px rgba(var(--tarnished-gold-rgb), 0.7);
            --glow-color-item-trap: rgba(50, 40, 35, 0.9);
            --glow-shadow-item-trap: 0 0 15px rgba(50, 40, 35, 0.7);
            --glow-color-item-campfire: rgba(70, 50, 40, 0.9);
            --glow-shadow-item-campfire: 0 0 15px rgba(70, 50, 40, 0.7);
            --glow-color-item-neutral: rgba(50, 50, 50, 0.9);
            --glow-shadow-item-neutral: 0 0 15px rgba(50, 50, 50, 0.7);
            --glow-color-action-scout: rgba(40, 50, 40, 0.9);
            --glow-shadow-action-scout: 0 0 15px rgba(40, 50, 40, 0.7);
            --glow-color-trophy-bounty: var(--tarnished-gold);
            --glow-shadow-trophy-bounty: 0 0 18px rgba(var(--tarnished-gold-rgb), 0.65);
            
            /* Card Tints */
            --tint-event: rgba(161, 44, 44, 0.1);
            --tint-provision-heal: rgba(85, 107, 47, 0.08);
            --tint-provision-draw: rgba(90, 125, 154, 0.08);
            --tint-provision-neutral: rgba(120,120,120,0.05);
            --tint-item-weapon: rgba(185, 78, 10, 0.08);
            --tint-player-upgrade: rgba(181, 101, 29, 0.08);
            --tint-item-gold: rgba(200,164,21,0.07);
            --tint-item-trap: rgba(160,100,70,0.07);
            --tint-item-campfire: rgba(200,100,50,0.07);
            --tint-item-neutral: rgba(130,130,130,0.06);
            --tint-action-scout: rgba(100,160,100,0.07);
            --tint-trophy-bounty: rgba(160,140,100,0.08);
        }

        body { 
            color: var(--paper-bg); 
            font-family: 'Merriweather', serif; 
            overscroll-behavior-y: contain;
            min-height: 100vh;
            background-repeat: no-repeat;
            background-position: center center;
            background-size: cover;
            background-attachment: fixed;
            background-image: var(--bg-landscape);
            background-color: #1a1a1a; /* Dark fallback */
            transition: background-image 0.5s ease-in-out;
            overflow-x: hidden;
        }

        @media (orientation: portrait) {
            body {
                background-image: var(--bg-portrait);
            }
        }

        /* Feudal Japan Theme (NG+10) */
        body.ng-plus-10-theme {
            --panel-bg: rgba(251, 249, 244, 0.92); /* Rice Paper */
            --panel-border: 1px solid #a19a8e;

            --blood-red: #d01d1d;
            --blood-red: color(display-p3 0.79 0.11 0.11);
            --blood-red-rgb: 208, 29, 29;
            
            --faded-green: #5A7734;
            --faded-green: color(display-p3 0.39 0.48 0.24);
            --faded-green-rgb: 90, 119, 52;
            
            --heal-green: #21ac4a;
            --heal-green: color(display-p3 0.13 0.67 0.3);
            --heal-green-rgb: 33, 172, 74;
            
            /* Threat */
            --glow-color-threat: #9f2727;
            --glow-color-threat: color(display-p3 0.62 0.14 0.14);
            --glow-shadow-threat: 0 0 25px var(--glow-color-threat);
            /* Weapon */
            --glow-color-item-weapon: #c16705;
            --glow-color-item-weapon: color(display-p3 0.75 0.40 0.02);
            /* Heal */
            --glow-color-provision-heal: #5a8c27;
            --glow-color-provision-heal: color(display-p3 0.35 0.55 0.16);
            /* Draw */
            --glow-color-provision-draw: #3a5fbf;
            --glow-color-provision-draw: color(display-p3 0.23 0.37 0.75);
            /* Upgrade */
            --glow-color-player-upgrade: #cf4d0a;
            --glow-color-player-upgrade: color(display-p3 0.80 0.30 0.04);

            --tint-event: rgba(168, 42, 42, 0.09);
            --tint-provision-heal: rgba(95, 146, 40, 0.08);
            --tint-provision-draw: rgba(58, 95, 205, 0.07);
            --tint-item-weapon: rgba(200, 108, 6, 0.08);
            --tint-player-upgrade: rgba(209, 80, 11, 0.08);
            --tint-item-gold: rgba(255, 223, 186, 0.08);
            --tint-trophy-bounty: rgba(210, 180, 140, 0.08);
        }
        body.ng-plus-10-theme #characterCardGrid .selected {
            border-color: #ffdde1 !important;
            box-shadow: 0 0 0 1px #ffdde1, 0 0 20px rgba(255, 182, 193, 0.8), 0 0 5px #fff !important;
        }


        /* Africa Safari Theme (NG+20) */
        body.ng-plus-20-theme {
            --panel-bg: rgba(245, 235, 215, 0.92); /* Dingy Yellow Paper */
            --panel-border: 1px solid #968977;

            --blood-red: #da2121;
            --blood-red: color(display-p3 0.82 0.12 0.12);
            --blood-red-rgb: 218, 33, 33;

            --faded-green: #678423;
            --faded-green: color(display-p3 0.44 0.54 0.18);
            --faded-green-rgb: 103, 132, 35;
            
            --heal-green: #27b54c;
            --heal-green: color(display-p3 0.15 0.70 0.3);
            --heal-green-rgb: 39, 181, 76;

            /* Threat */
            --glow-color-threat: #a82a2a;
            --glow-color-threat: color(display-p3 0.65 0.16 0.16);
            --glow-shadow-threat: 0 0 27px var(--glow-color-threat);
            /* Weapon */
            --glow-color-item-weapon: #d0590e;
            --glow-color-item-weapon: color(display-p3 0.80 0.34 0.05);
            /* Heal */
            --glow-color-provision-heal: #79a117;
            --glow-color-provision-heal: color(display-p3 0.45 0.80 0.1);
            /* Draw */
            --glow-color-provision-draw: #0072b6;
            --glow-color-provision-draw: color(display-p3 0 0.45 0.72);
            /* Upgrade */
            --glow-color-player-upgrade: #da6a00;
            --glow-color-player-upgrade: color(display-p3 0.85 0.42 0);

            --tint-event: rgba(181, 32, 32, 0.1);
            --tint-provision-heal: rgba(130, 119, 23, 0.09);
            --tint-provision-draw: rgba(0, 119, 194, 0.08);
            --tint-item-weapon: rgba(214, 91, 15, 0.09);
            --tint-player-upgrade: rgba(224, 112, 0, 0.09);
            --tint-item-gold: rgba(220, 184, 41, 0.09);
            --tint-item-trap: rgba(180, 120, 90, 0.09);
            --tint-trophy-bounty: rgba(180, 160, 120, 0.1);
        }
        body.ng-plus-20-theme #characterCardGrid .card-face:not(.selected) {
            box-shadow: 0 0 12px rgba(218, 165, 32, 0.5);
        }
        body.ng-plus-20-theme #characterCardGrid .selected {
            border-color: #daa520 !important;
            box-shadow: 0 0 0 1px #daa520, 0 0 20px rgba(218, 165, 32, 0.7), 0 0 5px #3a3a3a !important;
        }

        /* Supernatural Horror Theme (NG+30) */
        body.ng-plus-30-theme {
            --panel-bg: rgba(210, 210, 210, 0.9); /* Light Charcoal */
            --panel-border: 1px solid #555;
            --card-bg: #f5f5f5; /* Bone White */
            --ink-main: #2a2a2a;
            --ink-secondary: #4c4c4c;
            
            --blood-red: #ef4444;
            --blood-red: color(display-p3 1 0.25 0.25);
            --blood-red-rgb: 239, 68, 68;
            
            --faded-green: #9acd32;
            --faded-green: color(display-p3 0.6 0.8 0.2);
            --faded-green-rgb: 154, 205, 50;

            --heal-green: #76ff03;
            --heal-green: color(display-p3 0.46 1 0.01);
            --heal-green-rgb: 118, 255, 3;

            /* Threat */
            --glow-color-threat: #ef4444;
            --glow-color-threat: color(display-p3 1 0.25 0.25);
            --glow-shadow-threat: 0 0 30px var(--glow-color-threat);
            /* Weapon */
            --glow-color-item-weapon: #ff4500;
            --glow-color-item-weapon: color(display-p3 1 0.27 0);
            --glow-shadow-item-weapon: 0 0 20px var(--glow-color-item-weapon);
            /* Heal */
            --glow-color-provision-heal: #76ff03;
            --glow-color-provision-heal: color(display-p3 0.46 1 0.01);
            --glow-shadow-provision-heal: 0 0 20px var(--glow-color-provision-heal);
            /* Draw */
            --glow-color-provision-draw: #00bfff;
            --glow-color-provision-draw: color(display-p3 0 0.75 1);
            --glow-shadow-provision-draw: 0 0 20px var(--glow-color-provision-draw);
            /* Upgrade */
            --glow-color-player-upgrade: #b8860b;
            --glow-color-player-upgrade: color(display-p3 0.72 0.52 0.04);
            --glow-shadow-player-upgrade: 0 0 20px var(--glow-color-player-upgrade);
            
            --tint-event: rgba(239, 68, 68, 0.07);
            --tint-provision-heal: rgba(118, 255, 3, 0.06);
            --tint-provision-draw: rgba(0, 191, 255, 0.06);
            --tint-item-weapon: rgba(255, 69, 0, 0.07);
            --tint-player-upgrade: rgba(184, 134, 11, 0.07);
            --tint-item-gold: rgba(255, 215, 0, 0.06);
            --tint-trophy-bounty: rgba(139, 69, 19, 0.07);
        }
        body.ng-plus-30-theme .card-face:not(.selected) {
            box-shadow: 0 0 10px rgba(118, 255, 3, 0.5), 0 0 3px rgba(0,0,0,0.4);
        }
        body.ng-plus-30-theme #characterCardGrid .selected {
            border-color: var(--glow-color-provision-heal) !important;
            box-shadow: 0 0 0 1px var(--glow-color-provision-heal), 0 0 20px var(--glow-color-provision-heal), 0 0 5px #fff !important;
        }

        /* Cyberpunk Theme (NG+40) */
        body.ng-plus-40-theme {
            --panel-bg: rgba(252, 253, 255, 0.92); /* Super Clean White */
            --panel-border: none;
            --panel-border-cyber: 2px solid;
            --card-bg: #ffffff; /* Brighter, cleaner card white */
            --ink-main: #1a1a1a; /* Dark ink for contrast */
            --ink-secondary: #4a4a4a;

            --blood-red: #ff1744;
            --blood-red: color(display-p3 1 0.09 0.26);
            --blood-red-rgb: 255, 23, 68;

            --faded-green: #b3ff1a;
            --faded-green: color(display-p3 0.7 1 0.1);
            --faded-green-rgb: 179, 255, 26;

            --heal-green: #76ff03;
            --heal-green: color(display-p3 0.46 1 0.01);
            --heal-green-rgb: 118, 255, 3;

            --glow-color-default: #00ffff; /* Neon Cyan */
            --glow-shadow-default: 0 0 18px rgba(0, 255, 255, 0.8), 0 0 5px #fff;
            
            /* Threat & Weapon */
            --glow-color-threat: #ff1744;
            --glow-color-threat: color(display-p3 1 0.09 0.26);
            --glow-shadow-threat: 0 0 22px var(--glow-color-threat), 0 0 8px #fff;
            --glow-color-item-weapon: var(--glow-color-threat);
            --glow-shadow-item-weapon: var(--glow-shadow-threat);
            /* Heal */
            --glow-color-provision-heal: #76ff03;
            --glow-color-provision-heal: color(display-p3 0.46 1 0.01);
            --glow-shadow-provision-heal: 0 0 20px var(--glow-color-provision-heal), 0 0 6px #fff;
            /* Draw */
            --glow-color-provision-draw: #00bfff;
            --glow-color-provision-draw: color(display-p3 0 0.8 1);
            --glow-shadow-provision-draw: 0 0 20px var(--glow-color-provision-draw), 0 0 6px #fff;
            /* Upgrade */
            --glow-color-player-upgrade: #ffab00;
            --glow-color-player-upgrade: color(display-p3 1 0.67 0);
            --glow-shadow-player-upgrade: 0 0 20px var(--glow-color-player-upgrade), 0 0 6px #fff;

            /* Gold */
            --glow-color-item-gold: #ffeb3b;
            --glow-shadow-item-gold: 0 0 18px rgba(255, 235, 59, 0.8), 0 0 5px #fff;

            /* Trap */
            --glow-color-item-trap: #f50057; /* Neon Pink */
            --glow-shadow-item-trap: 0 0 20px var(--glow-color-item-trap), 0 0 6px #fff;
            
            /* Tints */
            --tint-event: rgba(255, 23, 68, 0.05);
            --tint-item-weapon: var(--tint-event);
            --tint-provision-heal: rgba(118, 255, 3, 0.05);
            --tint-provision-draw: rgba(0, 191, 255, 0.05);
            --tint-player-upgrade: rgba(255, 171, 0, 0.05);
            --tint-item-gold: rgba(255, 235, 59, 0.05);
            --tint-item-trap: rgba(245, 0, 87, 0.05); /* Neon pink for trap */
            --tint-item-campfire: rgba(0, 255, 255, 0.04);
            --tint-item-neutral: rgba(0, 255, 255, 0.04);
            --tint-action-scout: rgba(0, 255, 255, 0.04);
            --tint-trophy-bounty: rgba(0, 255, 255, 0.04);
        }
        body.ng-plus-40-theme .card-face:not(.selected) {
            transition: box-shadow 0.3s ease-in-out, border-color 0.3s ease-in-out;
            box-shadow: 0 0 10px color-mix(in srgb, var(--glow-color-default) 50%, transparent);
            border-color: color-mix(in srgb, var(--glow-color-default) 60%, transparent);
        }
        body.ng-plus-40-theme .card-face:not(.selected)[data-card-type-id='event'][data-is-threat="true"],
        body.ng-plus-40-theme .card-face:not(.selected)[data-card-type-id='item-weapon'] {
            box-shadow: 0 0 10px color-mix(in srgb, var(--glow-color-threat) 50%, transparent);
            border-color: color-mix(in srgb, var(--glow-color-threat) 60%, transparent);
        }
        body.ng-plus-40-theme .card-face:not(.selected)[data-card-type-id='provision-heal'] {
            box-shadow: 0 0 10px color-mix(in srgb, var(--glow-color-provision-heal) 50%, transparent);
            border-color: color-mix(in srgb, var(--glow-color-provision-heal) 60%, transparent);
        }
        body.ng-plus-40-theme .card-face:not(.selected)[data-card-type-id='provision-draw'] {
            box-shadow: 0 0 10px color-mix(in srgb, var(--glow-color-provision-draw) 50%, transparent);
            border-color: color-mix(in srgb, var(--glow-color-provision-draw) 60%, transparent);
        }
        body.ng-plus-40-theme .card-face:not(.selected)[data-card-type-id='player-upgrade'] {
            box-shadow: 0 0 10px color-mix(in srgb, var(--glow-color-player-upgrade) 50%, transparent);
            border-color: color-mix(in srgb, var(--glow-color-player-upgrade) 60%, transparent);
        }
        body.ng-plus-40-theme .card-face:not(.selected)[data-card-type-id='item-gold'] {
            box-shadow: 0 0 10px color-mix(in srgb, var(--glow-color-item-gold) 50%, transparent);
            border-color: color-mix(in srgb, var(--glow-color-item-gold) 60%, transparent);
        }
        body.ng-plus-40-theme .card-face:not(.selected)[data-card-type-id='item-trap'] {
            box-shadow: 0 0 10px color-mix(in srgb, var(--glow-color-item-trap) 50%, transparent);
            border-color: color-mix(in srgb, var(--glow-color-item-trap) 60%, transparent);
        }
        body.ng-plus-40-theme #characterCardGrid .selected {
            border-color: var(--glow-color-default) !important;
            box-shadow: var(--glow-shadow-default) !important;
        }
        body.ng-plus-40-theme #characterCardGrid [data-character-id='gunslinger']:not(.selected) { box-shadow: 0 0 18px color(display-p3 1 0.09 0.26), 0 0 5px #fff; }
        body.ng-plus-40-theme #characterCardGrid [data-character-id='hunter']:not(.selected) { box-shadow: 0 0 18px color(display-p3 0.46 1 0.01), 0 0 5px #fff; }
        body.ng-plus-40-theme #characterCardGrid [data-character-id='trapper']:not(.selected) { box-shadow: 0 0 18px color(display-p3 1 0.67 0), 0 0 5px #fff; }
        body.ng-plus-40-theme #characterCardGrid [data-character-id='doctor']:not(.selected) { box-shadow: 0 0 18px color(display-p3 0 0.8 1), 0 0 5px #fff; }
        body.ng-plus-40-theme #characterCardGrid [data-character-id='herbalist']:not(.selected) { box-shadow: 0 0 18px color(display-p3 0.68 1 0.18), 0 0 5px #fff; }
        body.ng-plus-40-theme #characterCardGrid [data-character-id='explorer']:not(.selected) { box-shadow: 0 0 18px color(display-p3 1 0.92 0.23), 0 0 5px #fff; }
        body.ng-plus-40-theme #characterCardGrid [data-character-id='preacher']:not(.selected) { box-shadow: 0 0 18px color(display-p3 0.88 1 1), 0 0 5px #fff; }
        body.ng-plus-40-theme #characterCardGrid [data-character-id='prospector']:not(.selected) { box-shadow: 0 0 18px color(display-p3 1 0.84 0), 0 0 5px #fff; }


        /* Legendary Western Theme (NG+50) */
        body.ng-plus-50-theme {
            --paper-bg: #f2eee4;
            --ink-main: #2a2a2a;
            --ink-secondary: #4c4c4c;
            --border-color: #a89e92;
            
            --panel-bg: rgba(242, 238, 228, 0.92);
            --panel-border: 1px solid var(--border-color);
            --card-bg: var(--paper-bg);

            /* --- Cyberpunk Vibrancy --- */
            --blood-red: #ff1744;
            --blood-red: color(display-p3 1 0.09 0.26);
            --blood-red-rgb: 255, 23, 68;

            --faded-green: #b3ff1a;
            --faded-green: color(display-p3 0.7 1 0.1);
            --faded-green-rgb: 179, 255, 26;

            --heal-green: #76ff03;
            --heal-green: color(display-p3 0.46 1 0.01);
            --heal-green-rgb: 118, 255, 3;

            --glow-color-default: #00ffff; /* Neon Cyan */
            --glow-shadow-default: 0 0 18px rgba(0, 255, 255, 0.8), 0 0 5px #fff;
            
            /* Threat & Weapon */
            --glow-color-threat: #ff1744;
            --glow-color-threat: color(display-p3 1 0.09 0.26);
            --glow-shadow-threat: 0 0 22px var(--glow-color-threat), 0 0 8px #fff;
            --glow-color-item-weapon: var(--glow-color-threat);
            --glow-shadow-item-weapon: var(--glow-shadow-threat);
            /* Heal */
            --glow-color-provision-heal: #76ff03;
            --glow-color-provision-heal: color(display-p3 0.46 1 0.01);
            --glow-shadow-provision-heal: 0 0 20px var(--glow-color-provision-heal), 0 0 6px #fff;
            /* Draw */
            --glow-color-provision-draw: #00bfff;
            --glow-color-provision-draw: color(display-p3 0 0.8 1);
            --glow-shadow-provision-draw: 0 0 20px var(--glow-color-provision-draw), 0 0 6px #fff;
            /* Upgrade */
            --glow-color-player-upgrade: #ffab00;
            --glow-color-player-upgrade: color(display-p3 1 0.67 0);
            --glow-shadow-player-upgrade: 0 0 20px var(--glow-color-player-upgrade), 0 0 6px #fff;

            /* Gold */
            --glow-color-item-gold: #ffeb3b;
            --glow-shadow-item-gold: 0 0 18px rgba(255, 235, 59, 0.8), 0 0 5px #fff;
            
            /* Tints */
            --tint-event: rgba(255, 23, 68, 0.05);
            --tint-item-weapon: var(--tint-event);
            --tint-provision-heal: rgba(118, 255, 3, 0.05);
            --tint-provision-draw: rgba(0, 191, 255, 0.05);
            --tint-player-upgrade: rgba(255, 171, 0, 0.05);
            --tint-item-gold: rgba(255, 235, 59, 0.05);
            --tint-item-trap: rgba(245, 0, 87, 0.05);
            --tint-item-campfire: rgba(0, 255, 255, 0.04);
            --tint-item-neutral: rgba(0, 255, 255, 0.04);
            --tint-action-scout: rgba(0, 255, 255, 0.04);
            --tint-trophy-bounty: rgba(0, 255, 255, 0.04);
        }
        body.ng-plus-50-theme #characterCardGrid .card-face:not(.selected) {
            box-shadow: 0 0 10px rgba(118, 255, 3, 0.5), 0 0 3px rgba(0,0,0,0.4);
        }
        body.ng-plus-50-theme #characterCardGrid .selected {
            border-color: var(--glow-color-default) !important;
            box-shadow: var(--glow-shadow-default) !important;
        }

        .font-western { font-family: 'Rye', cursive; }
        .font-pulp-title { font-family: 'Special Elite', monospace; }
        
        .font-signature-l1 { font-family: 'Great Vibes', cursive; }
        .font-signature-l2 { font-family: 'Cedarville Cursive', cursive; }
        .font-signature-l3 { font-family: 'Dancing Script', cursive; }
        .font-signature-l4 { font-family: 'Parisienne', cursive; }
        .font-signature-l5plus { font-family: 'Alex Brush', cursive; }
       
        @keyframes player-flash-bg-red {
            0%, 100% { background-color: rgba(244, 241, 234, 0.9); } /* Player area default bg */
            50% { background-color: var(--blood-red); } /* Solid red flash */
        }
        .player-damage-flash-bg { animation: player-flash-bg-red 0.3s ease-out; }

        @keyframes player-heal-flash-bg {
            0%, 100% { background-color: rgba(244, 241, 234, 0.9); }
            50% { background-color: rgba(var(--heal-green-rgb), 0.35); }
        }
        .player-heal-flash-bg { animation: player-bg-flash-green 0.3s ease-out; }
        
        @keyframes player-border-pulse-red-anim {
            0%, 100% { border-color: var(--border-color); box-shadow: none; transform: scale(1); }
            50% { border-color: var(--blood-red); box-shadow: 0 0 15px rgba(var(--blood-red-rgb), 0.6); transform: scale(1.02); }
        }
        .player-border-pulse-red { animation: player-border-pulse-red-anim 0.45s ease-in-out; }

        @keyframes player-damage-border-pulse-anim {
            0%, 100% {
                border-color: var(--border-color);
                box-shadow: none;
                transform: scale(1.0);
            }
            50% {
                border-color: var(--blood-red);
                box-shadow: 0 0 30px 8px rgba(var(--blood-red-rgb), 0.75);
                transform: scale(1.02);
            }
        }
        .player-damage-pulse { animation: player-damage-border-pulse-anim 0.6s ease-in-out; }

        @keyframes player-border-pulse-green-anim {
            0%, 100% { border-color: var(--border-color); box-shadow: none; transform: scale(1); }
            50% { border-color: var(--heal-green); box-shadow: 0 0 15px rgba(var(--heal-green-rgb), 0.6); transform: scale(1.02); }
        }
        .player-border-pulse-green { animation: player-border-pulse-green-anim 0.45s ease-in-out; }

        @keyframes player-area-shake {
            10%, 90% { transform: translateX(-1px); }
            20%, 80% { transform: translateX(2px); }
            30%, 50%, 70% { transform: translateX(-4px); } /* Increased shake intensity */
            40%, 60% { transform: translateX(4px); } /* Increased shake intensity */
        }
        .player-area-shake-effect { animation: player-area-shake 0.5s cubic-bezier(.36,.07,.19,.97) both; }
        .frontier-panel-shake { animation: player-area-shake 0.5s cubic-bezier(.36,.07,.19,.97) both; }

        @keyframes card-draw-enter-anim {
            from {
                opacity: 0;
                transform: translateY(50px) scale(0.9) rotate(-5deg);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1) rotate(0deg);
            }
        }
        .card-enter-animation {
            animation: card-draw-enter-anim 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94) both;
        }

        @keyframes event-card-drop-anim {
            0% {
                transform: translateY(-100px) scale(1.1);
                opacity: 0;
            }
            60% {
                transform: translateY(10px) scale(0.98);
                opacity: 1;
            }
            80% {
                transform: translateY(-5px) scale(1.02);
            }
            100% {
                transform: translateY(0) scale(1);
                opacity: 1;
            }
        }
        .event-card-drop { animation: event-card-drop-anim 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94) both; }

        @keyframes button-area-fade-in { 
            from { 
                opacity: 0; 
                transform: translateY(10px); 
            } to { 
                opacity: 1; 
                transform: translateY(0); 
            } 
        }
        .action-buttons-enter { animation: button-area-fade-in 0.2s ease-out 75ms both; }

        @keyframes stat-flash-red {
            0%, 100% { color: var(--blood-red); transform: scale(1); }
            50% { color: var(--blood-red-bright); transform: scale(1.25); }
        }
        .stat-damage-flash { animation: stat-flash-red 0.4s ease-out; display: inline-block; }

        @keyframes stat-flash-green {
            0%, 100% { color: var(--heal-green-dark); transform: scale(1); }
            50% { color: var(--heal-green-bright); transform: scale(1.25); }
        }
        .stat-heal-flash { animation: stat-flash-green 0.4s ease-out; display: inline-block; }

        @keyframes threat-card-shake-damage-bg-anim {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-3px); }
            20%, 40%, 60%, 80% { transform: translateX(3px); }
            25%, 75% { background-color: rgba(var(--blood-red-rgb), 0.15); }
        }
        .threat-card-shake-damage-bg { animation: threat-card-shake-damage-bg-anim 0.4s ease-out; }
        
        @keyframes threat-card-border-pulse-red-anim {
            0%, 100% { border-color: var(--ink-main); box-shadow: 3px 3px 8px rgba(0,0,0,0.2); }
            50% { border-color: var(--glow-color-threat); box-shadow: var(--glow-shadow-threat); }
        }
        .threat-card-border-pulse-red { animation: threat-card-border-pulse-red-anim 0.45s ease-in-out; }

        @keyframes gold-flash {
            0%, 100% { transform: scale(1); color: var(--tarnished-gold); }
            50% { transform: scale(1.2); color: #f59e0b; }
        }
        .gold-gained { animation: gold-flash 0.5s ease-out; display: inline-block; }
        
        /* Keyframe animations for Laudanum and Skunk Spray */
        @keyframes laudanum-effect {
            0% { opacity: 0; }
            10% { opacity: 1; }   /* 0.5s fade in */
            80% { opacity: 1; }   /* 3.5s hold */
            100% { opacity: 0; }  /* 1.0s fade out */
        }
        .animate-laudanum {
            animation: laudanum-effect 5s ease-in-out forwards;
        }

        @keyframes skunk-spray-effect {
            0% { opacity: 0; }
            10% { opacity: 1; }   /* 0.5s fade in */
            80% { opacity: 1; }   /* 3.5s hold */
            100% { opacity: 0; }  /* 1.0s fade out */
        }
        .animate-skunk-spray {
            animation: skunk-spray-effect 5s ease-in-out forwards;
        }
        
        /* Keyframe for new screen blur pulse */
        @keyframes screen-blur-pulse {
            0%, 50%, 100% { backdrop-filter: blur(0px); }
            25%, 75% { backdrop-filter: blur(4px); }
        }
        .animate-screen-blur {
            animation: screen-blur-pulse 4s ease-in-out;
        }

        /* Keyframes for End of Day Transition */
        @keyframes end-day-short {
            0% { opacity: 0; }
            20% { opacity: 1; }   /* 0.3s fade in */
            80% { opacity: 1; }   /* 0.9s hold */
            100% { opacity: 0; }  /* 0.3s fade out */
        }
        .animate-end-day-short {
            animation: end-day-short 1.5s ease-in-out forwards;
        }

        @keyframes end-day-long {
            0% { opacity: 0; }
            8% { opacity: 1; }    /* ~0.5s fade in */
            
            /* Hold black */
            75% { opacity: 1; }

            /* Slow "eye opening" */
            80% { opacity: 0.3; } /* open */
            85% { opacity: 1; }   /* close */

            /* Fast "eye opening" */
            88% { opacity: 0.1; } /* open fast */
            91% { opacity: 1; }   /* close fast */

            /* Fade out to new day */
            100% { opacity: 0; }
        }
        .animate-end-day-long {
            animation: end-day-long 6.5s ease-in-out forwards;
        }

        /* Keyframes for panel swiping on mobile and card cycling */
        @keyframes slideOutToLeft {
            from { transform: translateX(0) rotate(0deg); opacity: 1; }
            to { transform: translateX(-110%) rotate(-15deg); opacity: 0; }
        }
        @keyframes slideInFromRight {
            from { transform: translateX(110%) rotate(15deg); opacity: 0; }
            to { transform: translateX(0) rotate(0deg); opacity: 1; }
        }
        @keyframes slideOutToRight {
            from { transform: translateX(0) rotate(0deg); opacity: 1; }
            to { transform: translateX(110%) rotate(15deg); opacity: 0; }
        }
        @keyframes slideInFromLeft {
            from { transform: translateX(-110%) rotate(-15deg); opacity: 0; }
            to { transform: translateX(0) rotate(0deg); opacity: 1; }
        }

        /* Classes to apply animations */
        .slide-out-left { animation: slideOutToLeft 0.4s ease-out forwards; }
        .slide-in-right { animation: slideInFromRight 0.4s ease-out forwards; }
        .slide-out-right { animation: slideOutToRight 0.4s ease-out forwards; }
        .slide-in-left { animation: slideInFromLeft 0.4s ease-out forwards; }


        /* Legacy Animations (kept if still used by OverlayEffects or other logic) */
        @keyframes trap-caught-small-event {
            0% { transform: scale(1) rotate(0deg); opacity: 1; }
            40% { transform: scale(0.8) rotate(5deg); opacity: 0.7; }
            100% { transform: scale(0.2) rotate(15deg) translateY(20px); opacity: 0; }
        }
        .event-trapped-small { animation: trap-caught-small-event 0.7s ease-out forwards; }

        @keyframes trap-display-interact {
            0%, 100% { background-color: white; color: initial; transform: scale(1); box-shadow: none;}
            50% { background-color: var(--tarnished-gold); color: var(--paper-bg); font-weight: bold; transform: scale(1.1); box-shadow: 0 0 8px var(--tarnished-gold); }
        }
        .trap-display-activated { animation: trap-display-interact 0.6s ease-in-out; }

        @keyframes player-illness-pulse {
            0%, 100% { background-color: rgba(244, 241, 234, 0.9); box-shadow: none; }
            50% { background-color: var(--faded-green); opacity: 0.7; box-shadow: 0 0 15px color-mix(in srgb, var(--faded-green) 40%, transparent); }
        }
        .player-is-ill { animation: player-illness-pulse 0.8s ease-in-out 2; }

        @keyframes hat-saved-player-bg {
            0%, 100% { background-color: rgba(244, 241, 234, 0.9); border-color: var(--border-color); }
            50% { background-color: rgba(var(--tarnished-gold-rgb), 0.25); border-color: var(--tarnished-gold); box-shadow: 0 0 10px rgba(var(--tarnished-gold-rgb),0.5); transform: scale(1.02); }
        }
        .player-hat-saved-damage { animation: hat-saved-player-bg 0.5s ease-out; }
        
        @keyframes threat-attacks-player-anim {
            0%, 100% { transform: scale(1) rotate(0deg); box-shadow: 3px 3px 8px rgba(0,0,0,0.2); }
            20%, 60% { transform: translateX(-6px) rotate(-3deg) scale(1.05); }
            40%, 80% { transform: translateX(6px) rotate(3deg) scale(1.05); }
            50% { box-shadow: 0 0 18px 6px var(--blood-red); background-color: rgba(var(--blood-red-rgb), 0.1); }
        }
        .threat-attacks-player { animation: threat-attacks-player-anim 0.8s ease-in-out; }
        
        .log-area::-webkit-scrollbar { width: 8px; }
        .log-area::-webkit-scrollbar-track { background: rgba(0,0,0,0.1); border-radius: 2px; }
        .log-area::-webkit-scrollbar-thumb { background: var(--ink-secondary); border-radius: 2px; }
        .log-area::-webkit-scrollbar-thumb:hover { background: var(--ink-main); }

        .modal-body::-webkit-scrollbar { width: 8px; }
        .modal-body::-webkit-scrollbar-track { background: rgba(0,0,0,0.1); border-radius: 2px; }
        .modal-body::-webkit-scrollbar-thumb { background: var(--ink-secondary); border-radius: 2px; }
        .modal-body::-webkit-scrollbar-thumb:hover { background: var(--ink-main); }

        /* Base Button Styles */
        .button {
            padding: 0.5rem 1rem;
            border-radius: 0.25rem; /* Tailwind 'rounded' */
            font-family: 'Special Elite', monospace;
            text-transform: uppercase;
            font-size: 0.875rem; /* Tailwind 'text-sm' */
            letter-spacing: 0.05em; /* Tailwind 'tracking-wider' */
            border: 1px solid var(--ink-main);
            background-color: var(--paper-bg);
            color: var(--ink-main);
            transition: background-color 0.2s ease-in-out, color 0.2s ease-in-out, border-color 0.2s ease-in-out, transform 0.1s ease-out;
            cursor: pointer;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgba(0, 0, 0, 0.1); /* Tailwind 'shadow' */
        }
        .button:hover {
            background-color: color-mix(in srgb, var(--paper-bg) 90%, var(--ink-main));
            border-color: color-mix(in srgb, var(--ink-main) 80%, black);
        }
        .button:active {
            transform: translateY(1px);
            box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05); /* Tailwind 'shadow-sm' */
        }
        .button:disabled {
            background-color: #cccccc; /* Tailwind 'bg-gray-300' */
            color: #666666; /* Tailwind 'text-gray-500' */
            border-color: #999999; /* Tailwind 'border-gray-400' */
            cursor: not-allowed;
            opacity: 0.7;
        }

        .button.button-danger {
            background-color: var(--blood-red);
            border-color: color-mix(in srgb, var(--blood-red) 70%, black);
            color: var(--paper-bg);
        }
        .button.button-danger:hover {
            background-color: color-mix(in srgb, var(--blood-red) 80%, black);
            border-color: color-mix(in srgb, var(--blood-red) 60%, black);
        }

        /* Tooltip Styles */
        .tooltip-container {
            position: relative;
            display: inline-block;
        }
        .tooltip {
            visibility: hidden;
            position: absolute;
            z-index: 50;
            bottom: 105%;
            width: max-content;
            max-width: 300px;
            background-color: var(--paper-bg);
            color: var(--ink-main);
            text-align: left;
            border-radius: 4px;
            padding: 8px;
            border: 1px solid var(--border-color);
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            opacity: 0;
            transition: opacity 0.2s, visibility 0.2s;
            pointer-events: none;
        }
        .tooltip.visible {
            visibility: visible;
            opacity: 1;
        }

        /* Status Icon Styles */
        .status-icon {
            font-size: 1.1rem;
            color: var(--blood-red);
            font-weight: bold;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
        }
        .status-icon.illness {
            color: var(--faded-green);
        }

        /* Store Blocked Styles */
        .store-blocked {
            position: relative;
            pointer-events: none;
        }
        .store-blocked::after {
            content: 'TRADING BLOCKED';
            position: absolute;
            inset: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--blood-red);
            font-family: 'Rye', cursive;
            font-size: 1.5rem;
            text-shadow: 1px 1px 3px var(--paper-bg), -1px -1px 3px var(--paper-bg);
            border-radius: 0.1rem;
            pointer-events: none;
        }
        
        /* --- THEME-BASED STYLING --- */
        .player-area, .frontier-area {
            background-color: var(--panel-bg);
            border: var(--panel-border);
        }
        .event-card-slot {
            border: 4px solid;
            border-radius: 0.375rem; /* Tailwind's rounded-md */
            transition: border-color 0.3s ease-in-out;
            box-sizing: border-box;
            /* This div will have width/height classes applied via JS */
        }
        .card-face {
            background-color: var(--card-bg) !important;
            border-width: 1px;
            border-style: solid;
            border-color: var(--ink-main);
            box-shadow: 3px 3px 8px rgba(0,0,0,0.2);
            transition: transform 0.25s cubic-bezier(0.25, 0.46, 0.45, 0.94), box-shadow 0.25s ease-out, border-color 0.25s ease-out;
            transform: translateZ(0); /* Promotes to own layer to prevent animation flicker */
            will-change: transform, box-shadow; /* Hint for browser to optimize animations */
        }
        .card-face:not([disabled]) {
            cursor: pointer;
        }
        .card-face[disabled] {
            cursor: not-allowed;
        }
        .card-face:not(.selected):not([disabled]):not([data-context='event']):not([data-context='scouted_preview']):hover {
             transform: translateY(-0.25rem) rotate(-1deg) translateZ(0);
        }
        .card-face:not(.selected):not([disabled]):not([data-context='event']):not([data-context='scouted_preview']):not([data-context='character_selection']):hover {
            box-shadow: 4px 4px 12px rgba(0,0,0,0.25);
        }
        .card-face[data-context='character_selection']:not(.selected) {
            border-color: var(--border-color);
            box-shadow: 3px 3px 8px rgba(0,0,0,0.2);
        }
        .card-face[data-context='character_selection']:not(.selected):hover {
            border-color: #a8a29e;
            box-shadow: 4px 4px 12px rgba(0,0,0,0.25);
        }
        body.ng-plus-40-theme .player-area,
        body.ng-plus-40-theme .frontier-area {
            border-image-slice: 1;
            border-width: 2px;
            border-style: solid;
            border-image: linear-gradient(to bottom right, #ff00ff, #00ffff) 1;
        }
        
        .selected {
            border-color: var(--glow-color-default) !important;
            box-shadow: 0 0 0 1px var(--glow-color-default), var(--glow-shadow-default) !important;
        }
        /* Increased specificity to ensure Threat overrides Event */
        .selected[data-card-type-id='event'][data-is-threat="true"] {
            border-color: var(--glow-color-threat) !important;
            box-shadow: 0 0 0 1px var(--glow-color-threat), var(--glow-shadow-threat) !important;
        }
        .selected[data-card-type-id='event']:not([data-is-threat="true"]) {
            border-color: var(--glow-color-event) !important;
            box-shadow: 0 0 0 1px var(--glow-color-event), var(--glow-shadow-event) !important;
        }
        .selected[data-card-type-id='provision-heal'] {
            border-color: var(--glow-color-provision-heal) !important;
            box-shadow: 0 0 0 1px var(--glow-color-provision-heal), var(--glow-shadow-provision-heal) !important;
        }
        .selected[data-card-type-id='provision-draw'] {
            border-color: var(--glow-color-provision-draw) !important;
            box-shadow: 0 0 0 1px var(--glow-color-provision-draw), var(--glow-shadow-provision-draw) !important;
        }
        .selected[data-card-type-id='provision-neutral'] {
            border-color: var(--glow-color-provision-neutral) !important;
            box-shadow: 0 0 0 1px var(--glow-color-provision-neutral), var(--glow-shadow-provision-neutral) !important;
        }
        .selected[data-card-type-id='item-weapon'] {
            border-color: var(--glow-color-item-weapon) !important;
            box-shadow: 0 0 0 1px var(--glow-color-item-weapon), var(--glow-shadow-item-weapon) !important;
        }
        .selected[data-card-type-id='item-gold'] {
            border-color: var(--glow-color-item-gold) !important;
            box-shadow: 0 0 0 1px var(--glow-color-item-gold), var(--glow-shadow-item-gold) !important;
        }
        .selected[data-card-type-id='item-trap'] {
            border-color: var(--glow-color-item-trap) !important;
            box-shadow: 0 0 0 1px var(--glow-color-item-trap), var(--glow-shadow-item-trap) !important;
        }
        .selected[data-card-type-id='item-campfire'] {
            border-color: var(--glow-color-item-campfire) !important;
            box-shadow: 0 0 0 1px var(--glow-color-item-campfire), var(--glow-shadow-item-campfire) !important;
        }
        .selected[data-card-type-id='item-neutral'] {
            border-color: var(--glow-color-item-neutral) !important;
            box-shadow: 0 0 0 1px var(--glow-color-item-neutral), var(--glow-shadow-item-neutral) !important;
        }
        .selected[data-card-type-id='action-scout'] {
            border-color: var(--glow-color-action-scout) !important;
            box-shadow: 0 0 0 1px var(--glow-color-action-scout), var(--glow-shadow-action-scout) !important;
        }
        .selected[data-card-type-id='trophy-bounty'] {
            border-color: var(--glow-color-trophy-bounty) !important;
            box-shadow: 0 0 0 1px var(--glow-color-trophy-bounty), var(--glow-shadow-trophy-bounty) !important;
        }
        .selected[data-card-type-id='player-upgrade'] {
            border-color: var(--glow-color-player-upgrade) !important;
            box-shadow: 0 0 0 1px var(--glow-color-player-upgrade), var(--glow-shadow-player-upgrade) !important;
        }
        .card-face[data-context='deck_review'].selected {
            border-color: var(--glow-color-item-gold) !important;
            box-shadow: 0 0 0 1px var(--glow-color-item-gold), var(--glow-shadow-item-gold) !important;
        }

        .frontier-card-glow { transition: box-shadow 0.3s ease, border-color 0.3s ease; }
        .frontier-card-glow[data-is-threat="true"] {
            box-shadow: 0 0 8px color-mix(in srgb, var(--glow-color-threat) 50%, transparent);
            border-color: color-mix(in srgb, var(--glow-color-threat) 70%, transparent);
        }
        .frontier-card-glow[data-card-type-id*="item"],
        .frontier-card-glow[data-card-type-id*="provision"],
        .frontier-card-glow[data-card-type-id*="action"] {
             box-shadow: 0 0 8px color-mix(in srgb, var(--glow-color-item-gold) 25%, transparent);
             border-color: color-mix(in srgb, var(--glow-color-item-gold) 40%, transparent);
        }

        .selected-stat-text {
            text-shadow: none;
        }

        @keyframes tutorial-glow {
            0%, 100% {
                box-shadow: 0 0 10px 2px rgba(var(--tarnished-gold-rgb), 0.5), inset 0 0 5px 1px rgba(var(--tarnished-gold-rgb), 0.3);
                border-color: rgba(var(--tarnished-gold-rgb), 0.7);
            }
            50% {
                box-shadow: 0 0 20px 5px rgba(var(--tarnished-gold-rgb), 0.8), inset 0 0 10px 2px rgba(var(--tarnished-gold-rgb), 0.5);
                border-color: rgba(var(--tarnished-gold-rgb), 1);
            }
        }
        .tutorial-pulse-glow {
            animation: tutorial-glow 1.5s ease-in-out infinite;
            position: fixed;
            pointer-events: none;
            z-index: 10002;
            border-radius: 8px;
            border-width: 2px;
            border-style: solid;
            transition: all 0.3s ease-in-out;
        }

        @keyframes tutorial-glow-red {
            0%, 100% {
                box-shadow: 0 0 10px 2px rgba(var(--blood-red-rgb), 0.5), inset 0 0 5px 1px rgba(var(--blood-red-rgb), 0.3);
                border-color: rgba(var(--blood-red-rgb), 0.7);
            }
            50% {
                box-shadow: 0 0 20px 5px rgba(var(--blood-red-rgb), 0.8), inset 0 0 10px 2px rgba(var(--blood-red-rgb), 0.5);
                border-color: rgba(var(--blood-red-rgb), 1);
            }
        }
        .tutorial-pulse-glow-red {
            animation: tutorial-glow-red 1.5s ease-in-out infinite;
            position: fixed;
            pointer-events: none;
            z-index: 10002;
            border-radius: 8px;
            border-width: 2px;
            border-style: solid;
            transition: all 0.3s ease-in-out;
        }

        @keyframes tutorial-glow-green {
            0%, 100% {
                box-shadow: 0 0 10px 2px rgba(var(--faded-green-rgb), 0.5), inset 0 0 5px 1px rgba(var(--faded-green-rgb), 0.3);
                border-color: rgba(var(--faded-green-rgb), 0.7);
            }
            50% {
                box-shadow: 0 0 20px 5px rgba(var(--faded-green-rgb), 0.8), inset 0 0 10px 2px rgba(var(--faded-green-rgb), 0.5);
                border-color: rgba(var(--faded-green-rgb), 1);
            }
        }
        .tutorial-pulse-glow-green {
            animation: tutorial-glow-green 1.5s ease-in-out infinite;
            position: fixed;
            pointer-events: none;
            z-index: 10002;
            border-radius: 8px;
            border-width: 2px;
            border-style: solid;
            transition: all 0.3s ease-in-out;
        }
        
        body.tutorial-active #gameMenuButton,
        body.tutorial-active #restartButton,
        body.tutorial-active #endTurnButton {
            pointer-events: none !important;
            opacity: 0.5;
            transition: opacity 0.3s ease;
        }

    </style>
<script type="importmap">
{
  "imports": {
    "react/": "https://aistudiocdn.com/react@^19.1.1/",
    "react": "https://aistudiocdn.com/react@^19.1.1",
    "@vitejs/plugin-react": "https://aistudiocdn.com/@vitejs/plugin-react@^5.0.2",
    "react-dom/": "https://aistudiocdn.com/react-dom@^19.1.1/",
    "vite": "https://aistudiocdn.com/vite@^7.1.5"
  }
}
</script>
</head>
<body class="antialiased">
    <div id="root"></div>
    <script type="module" src="/index.tsx"></script>
</body>
</html>